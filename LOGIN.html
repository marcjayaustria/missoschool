<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - CCA Inventory</title>
    <link rel="stylesheet" href="LOGIN CSS.css">
</head>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MISSO - Home</title>
    <link rel="stylesheet" href="HOME PAGE CSS.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="logo">CCA MISSO Inventory</div>
            <ul class="nav-links">
                <li><a href="HOME PAGE.html">Home</a></li>
                <li><a href="BORROWED ITEM.html">Borrowed Items</a></li>
                <li><a href="PROFILE.html">Profile</a></li>
                <li><a href="LOGIN.html" class="login-btn">Login</a></li>
            </ul>
            <div class="menu-toggle">&#9776;</div>
        </nav>
    </header>
<body>
    <div class="login-wrapper">
        <div class="login-container">
            <form id="loginForm" class="login-form">
                <h2>Login to Your Account</h2>
                <p>Welcome back! Please enter your credentials.</p>

                <!-- Email -->
                <div class="input-group">
                    <label for="email">CCA Email (@cca.edu.ph)</label>
                    <input type="email" id="email" placeholder="example@cca.edu.ph" required pattern=".+@cca.edu.ph">
                </div>

                <!-- Password -->
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>

                <!-- CAPTCHA -->
                <div class="input-group">
                    <label for="captchaInput">Enter CAPTCHA:</label>
                    <div class="captcha-box">
                        <span id="captchaText"></span>
                        <button type="button" onclick="generateCaptcha()">‚ü≥</button>
                    </div>
                    <input type="text" id="captchaInput" placeholder="Enter CAPTCHA" required>
                </div>

                <!-- Login Button -->
                <button type="submit" class="login-btn">Login</button>

                <!-- Forgot Password -->
                <p><a href="#">Forgot Password?</a></p>

                <!-- Register Redirect -->
                <p>Don't have an account? <a href="REGISTER LOGIN.html">Register here</a></p>
            </form>
        </div>
    </div>

    <script>
        function generateCaptcha() {
            const captchaText = Math.random().toString(36).substring(2, 8).toUpperCase();
            document.getElementById('captchaText').innerText = captchaText;
        }

        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const emailInput = document.getElementById('email').value;
            const passwordInput = document.getElementById('password').value;
            const captchaInput = document.getElementById('captchaInput').value.toUpperCase();
            const captchaText = document.getElementById('captchaText').innerText;

            // Simulated user validation (Replace with backend authentication)
            const validUsers = [
                 { email: "admin@cca.edu.ph", password: "admin123", role: "admin" },
                 { email: "student@cca.edu.ph", password: "student123", role: "student" },
                 { email: "teacher@cca.edu.ph", password: "teacher123", role: "teacher" }
            ];

            const userExists = validUsers.find(user => user.email === emailInput && user.password === passwordInput);

            if (!emailInput.endsWith('@cca.edu.ph')) {
                alert('Please enter a valid @cca.edu.ph email.');
                return;
            }

            if (captchaInput !== captchaText) {
                alert('Incorrect CAPTCHA. Please try again.');
                generateCaptcha();
                return;
            }

            if (userExists) {
                alert('Login successful! Redirecting to Home Page...');
                window.location.href = "HOME PAGE.html";
            } else {
                alert('Invalid email or password. Please try again.');
            }
        });

        // Generate CAPTCHA on page load
        window.onload = generateCaptcha;
    </script>
</body>
</html>
